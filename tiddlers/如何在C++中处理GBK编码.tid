created: 20220104005412862
creator: 邱桥
modified: 20220104005441621
modifier: 邱桥
tags: C++
title: 如何在C++中处理GBK编码
tmap.id: d47e68f8-4cfb-441e-8855-3d747eaa1021
type: text/vnd.tiddlywiki

GBK分两段：ASCII段和中文段。ASCII段使用单字节，和ASCII编码保持一致；中文（及特殊符号）段使用双字节编码。在双字节段中，第一字节的范围是81–FE（也就是不含80和FF），第二字节的一部分领域在40–7E，其他领域在80–FE2。
也就是说，在GBK编码中，中文有两个字节，首字节范围81~FE，尾字节范围40~7E。
这么说来，判断一个字符（或者中文的一个字）是否为中文，只要判断其是否大于0x80即可。在判断其大于时，获取两个字节，同时向下跳一字节，进行后续判断；如果不大于，则为ASCII字符，获取一个字节。